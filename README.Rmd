---
output:
  md_document:
    variant: markdown_github
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

```{r, include=FALSE}
set.seed(0)
library(dplyr)
library(tidytext)
library(tibble)
```

# Text Sampling

**Author:** [Nicolas Pröllochs](https://nproellochs.com)<br/>
**License:** [MIT](https://opensource.org/licenses/MIT)

The **textsampler** R-Package samples texts from a predefined text source. This implementation uses tidy data principles and works seamlessly with existing text mining packages such as [tm](https://cran.r-project.org/web/packages/tm/index.html), [tidytext](https://cran.r-project.org/web/packages/tidytext/index.html), and [rvest](https://cran.r-project.org/web/packages/rvest/index.html). In addition, it supplies multiple built-in text datasets for hassle-free sampling of words, sentences, and texts.

## Installation

You can easily install the latest development version of **textsampler** via GitHub.

```{r,eval=FALSE}
# Install the development version from GitHub:
# install.packages("devtools")
devtools::install_github("nproellochs/textsampler")
```

## Usage

This section shows the basic functionality of how to sample text from a predefined text source. First, load the corresponding package **textsampler**.

```{r, message=FALSE}
library(textsampler)
```

### Quick demonstration

The following example shows how to sample sentences from a built-in database of texts. The result is a data frame containing five random sentences.

```{r, message=FALSE}
# Sample five sentences
sample_text(n = 5, type = "sentences")

```


### Example: Sampling text from built-in text source

The following example shows how to sample words from a built-in text source ("english_words"). The result is a data frame containing five random words.

```{r, message=FALSE}
# Sample five words from english_words
sample_text(n = 5, type = "words", source = "english_words")

```


### Example: Sampling text from website

The **textsampler** R-package works with tidy tools and can easily be combined with existing packages such as the [rvest](https://cran.r-project.org/web/packages/rvest/index.html) R-package. The following example shows how to sample texts from a website. Specifically, the example samples 15 famous quotes by Julius Ceasar.

```{r, message=FALSE}
library(rvest)
read_html("https://www.brainyquote.com/authors/julius-caesar-quotes/") %>%
  html_nodes(xpath = ".//a[contains(@class, 'b-qt qt_')]") %>%
  html_text() %>% 
  enframe() %>% 
  sample_text(n = 15, source = ., input = "value", min_length = 1, max_length = 40,
              shuffle = F, clean = T)

```

### Example: Sampling text from vector source

The **textsamplr** R-package can be used to sample text from a vector source. The following example samples five random sentences from a book downloaded by the [gutenbergr](https://cran.r-project.org/web/packages/gutenbergr/index.html) R-Package.

```{r, message=FALSE}
library(gutenbergr)
full_text <- gutenberg_download(5314)

textsampler::sample_text(n = 5, source = full_text$text[1:1000], type = "sentences", shuffle = T)

```

### Example: Sampling text data with specific text characteristics

The **textsamplr** R-package allows one to easily sample texts with specific text characteristics. The following example samples three sentences from Amazon reviews, all of which have a maximum length of 5 words and contain the word 'great'.

```{r, message=FALSE}
sample_text(n = 5, source = "amazon_sentences", type = "sentences", 
            max_length = 5, word_list = c("great"))

```


## Contributing

If you experience any difficulties with the package, or have suggestions, or want to contribute directly, you have the following options:

* Contact the [maintainer](mailto:nicolas.proellochs@wi.jlug.de) by email.
* Issues and bug reports: [File a GitHub issue](https://github.com/nproellochs/textsampler/issues).
* Fork the source code, modify, and issue a [pull request](https://help.github.com/articles/creating-a-pull-request-from-a-fork/) through the [project GitHub page](https://github.com/nproellochs/textsampler).


## License 

**textsampler** is released under the [MIT License](https://opensource.org/licenses/MIT)

Copyright (c) 2019 Nicolas Pröllochs
